---
description: "Accessibility guidance for inclusive code conforming to WCAG 2.2 Level AA. Frontend-only patterns. See references/a11y-patterns.md for components."
applyTo: "**/*.{html,htm,jsx,tsx,vue,svelte,astro,js,ts,css,scss,sass}"
---

# Accessibility Instructions

Build accessible code for users with disabilities. **For component patterns**, see [a11y-patterns.md](references/a11y-patterns.md).

## Core Requirements

1. **WCAG 2.2 Level AA** compliance mandatory
2. Go beyond minimum compliance when possible
3. Plan accessibility before coding
4. Review against WCAG after generation
5. Inform user: "Built with accessibility in mind, manual testing recommended"

## Inclusive Language

- Use people-first language ("person using screen reader")
- Avoid stereotypes or assumptions
- State uncertainty clearly
- Provide reasoning and WCAG references

## Keyboard Accessibility

### Required Patterns
- ✅ All interactive elements keyboard navigable
- ✅ Visible focus indicators always
- ✅ Predictable tab order (follows reading order)
- ✅ Static elements NOT in tab order (no `tabindex` unless programmatic focus needed)
- ✅ Hidden elements NOT focusable
- ✅ Skip links for repeated content
- ✅ No keyboard traps (ESC to exit)

### Common Keyboard Commands
- `Tab` - Next interactive element
- `Arrow keys` - Within composite components
- `Enter` - Activate control
- `Escape` - Close surfaces (dialogs, menus)

### Focus Management
- **Roving tabindex** for component navigation (one element `tabindex="0"`, others `"-1"`)
- **aria-activedescendant** for virtual focus
- Focus trap in modals

## Screen Reader Support

### Semantic HTML Required
- Use native elements when possible
- Correct roles, names, values, states
- Landmarks: `<header>`, `<nav>`, `<main>`, `<footer>`
- Heading hierarchy: `<h1>`-`<h6>` (only one `<h1>`)
- Don't skip heading levels

### ARIA Guidelines
- Use ARIA when native HTML insufficient
- `aria-label` must contain visual label text
- `aria-required="true"` for required fields
- `aria-invalid` for validation errors
- `aria-describedby` for help text

## Visual Accessibility

### Color Contrast (Required)
- Text: **4.5:1** minimum (3:1 for large text)
- UI components: **3:1** minimum
- Don't use color alone to convey information
- Prefer dark-on-light or light-on-dark

### Focus Indicators
- Clearly visible on all interactive elements
- **3:1** contrast with adjacent colors
- Not removed with `outline: none` without replacement

## Forms

- Labels required for all inputs
- `<label for="id">` association
- Required fields marked with `*` + `aria-required`
- Error messages associated via `aria-describedby`
- Focus first invalid field on submit
- Don't disable submit buttons

## Images and Graphics

### All Graphics Need Role
- `<img>` elements (implicit `role="img"`)
- `<svg>` elements (`role="img"` required)
- Icon fonts/emojis (`role="img"` on `<span>`)

### Alternative Text
**Informative images**: Convey purpose in `alt` (img) or `aria-label` (SVG)
**Decorative images**: `alt=""` (img) or `aria-hidden="true"` (SVG/icons)

## Tables and Grids

- Column headers in first `<tr>` using `<th>`
- Row headers in respective rows using `<th>`
- Prefer simple tables over complex
- Use tables for static data, grids for dynamic

## Navigation and Menus

- Use `<nav>` with `<ul>` and links (not `menu` role)
- Toggle `aria-expanded` on expand/collapse
- Roving tabindex for navigation
- Arrow keys for sub-menu navigation
- ESC closes expanded menus

## Dialogs and Modals

- `role="dialog"` + `aria-modal="true"`
- `aria-labelledby` and `aria-describedby`
- Trap focus inside dialog
- ESC closes dialog
- Return focus to trigger on close

## Page Titles

Format: "[Unique page] - [Section] - [Site]"
- Defined in `<title>` element
- Unique per page
- Front-load unique information

## Common Anti-Patterns

❌ Missing alt text on informative images
❌ Empty links or buttons
❌ Keyboard traps
❌ Poor color contrast (<4.5:1)
❌ No visible focus indicators
❌ Skipping heading levels
❌ Using divs/spans for buttons
❌ Color-only information
❌ Missing form labels
❌ Static elements in tab order

## Testing Recommendations

- Keyboard-only navigation test
- Screen reader test (NVDA, JAWS, VoiceOver)
- Automated: [Accessibility Insights](https://accessibilityinsights.io/)
- axe DevTools browser extension
- Lighthouse accessibility audit

**See [a11y-patterns.md](references/a11y-patterns.md)** for complete examples of:
- Navigation and menus
- Forms with validation
- Tables and grids
- Skip links
- Dialogs and modals
- Focus management
- ARIA live regions
- Custom controls (tabs, toggles)
